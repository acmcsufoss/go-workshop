
<!DOCTYPE html>
<html>
  <head>
    <title>Beginner Go Programming</title>
    <meta charset='utf-8'>
    <script>
      var notesEnabled =  false ;
    </script>
    <script src='/static/slides.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js'></script>

    
  </head>

  <body style='display: none'>
    <section class='slides layout-widescreen'>
      <article>
        <h1>Beginner Go Programming</h1>
        
        
        
          <div class="presenter">
            
  
  <p>
    Diamond
  </p>
  

  
  <p>
    ACM at CSUF
  </p>
  

          </div>
        
          <div class="presenter">
            
  
  <p>
    
  </p>
  

          </div>
        
      </article>

  
  
      <article >
      
        <h3>A Taste of Go</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">
<pre contenteditable="true" spellcheck="false"><span num="1">package main</span>
<span num="2"></span>
<span num="3">import (</span>
<span num="4">    &#34;fmt&#34;</span>
<span num="5">    &#34;time&#34;</span>
<span num="6">)</span>
<span num="7"></span>
<span num="8">func main() {</span>
<span num="9">    fmt.Println(&#34;The time is now&#34;, time.Now())</span>
<span num="10">    fmt.Println(&#34;This slideshow is made in Go!&#34;)</span>
<span num="11">}</span>
</pre>
</div>
<p>Look at how fast it compiles!</p>

      
      <span class="pagenumber">2</span>
      </article>
  
  
  
      <article >
      
        <h3>What is a Go?</h3>
        <p>Go (at <a href="https://go.dev" target="_blank" rel="noopener">go.dev</a>) is a programming language designed by Robert
Griesemer, Rob Pike and Ken Thompson at Google.</p>
<p>The big names:</p>
<ul>
<li><strong>Robert Griesemer</strong> worked on the V8 JavaScript engine which powers
Chrome and Node.JS</li>
<li><strong>Ken Thompson</strong> implemented the first Unix and helped create the C
programming language</li>
<li><strong>Rob Pike</strong> was part of the Unix team and created UTF-8 with Ken Thompson.</li>
</ul>

      
      <span class="pagenumber">3</span>
      </article>
  
  
  
      <article >
      
        <h3>What can Go do?</h3>
        <p>(Almost) anything! Go is a <strong>general-purpose</strong> programming language.</p>
<p>Go is commonly used for:</p>
<ul>
<li>Backend/web development (REST APIs, microservices, etc.)</li>
<li>DevOps (CI/CD, automation, tooling, etc.)</li>
<li>Networking (TCP/UDP, etc.)</li>
</ul>
<p>Go cannot:</p>
<ul>
<li>Write an operating system (it needs kernel APIs)</li>
<li>Help you write the shortest code (it's meant to encourage good
practices and readability)</li>
<li>Evaluate Go code (it's compiled, but there are 3rd-party Go interpreters)</li>
</ul>

      
      <span class="pagenumber">4</span>
      </article>
  
  
  
      <article >
      
        <h3>Trying Go</h3>
        <pre><code class="language-go">if tryInBrowser {
    // You can run code in your browser! This is good for following along!
    open(&quot;https://go.dev/play&quot;)
} else {
    // You can manually install Go instead.
    // We'll go over this later during the workshop.
    open(&quot;https://go.dev/dl&quot;)
}
</code></pre>

      
      <span class="pagenumber">5</span>
      </article>
  
  
  
      <article >
      
        <h2>Here are some cool features of Go:</h2>
      
      <span class="pagenumber">6</span>
      </article>
  
  
  
      <article >
      
        <h3>Go automatically imports packages for you!</h3>
        <div align="center" style="height: 85%">
    <video src="images/goimports-demo.webm" loop autoplay></video>
</div>
      
      <span class="pagenumber">7</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has documentation for ALL open-source packages</h3>
        <p>Simply push it to a public repository (e.g. on GitHub) and it will be
automatically generated.</p>

<div class="image">
  <img src="images/chi-docs.jpg">
</div>

      
      <span class="pagenumber">8</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has no exceptions</h3>
        <p>Error checking is done by returning a value of type <code>error</code>:</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import (
	&#34;fmt&#34;
	&#34;log&#34;
	&#34;strconv&#34;
)

</span></pre><pre><span num="9">func main() {</span>
<span num="10">    if err := do(); err != nil {</span>
<span num="11">        log.Fatalln(err, &#34;:(&#34;)</span>
<span num="12">    }</span>
<span num="13">}</span>
<span num="14"></span>
<span num="15">func do() error {</span>
<span num="16">    v, err := strconv.Atoi(&#34;pee poo&#34;)</span>
<span num="17">    if err != nil {</span>
<span num="18">        return err</span>
<span num="19">    }</span>
<span num="20">    fmt.Println(v)</span>
<span num="21">    return nil</span>
<span num="22">}</span>
</pre>
</div>
<p>It's very explicit what can and cannot error out:</p>
<pre><code>                          vvvvv
func Atoi(s string) (int, error)</code></pre>

      
      <span class="pagenumber">9</span>
      </article>
  
  
  
      <article >
      
        <h3>Go can serve JSON REST APIs</h3>
        <p>We can do this with just the built-in standard library!</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import (
	&#34;encoding/json&#34;
	&#34;log&#34;
	&#34;net/http&#34;
	&#34;os&#34;
	&#34;os/exec&#34;
)

func sh(cmd string) {
	c := exec.Command(&#34;sh&#34;, &#34;-c&#34;, cmd)
	c.Stdout = os.Stdout
	c.Stderr = os.Stderr
	c.Run()
}

</span></pre><pre><span num="18">func main() {</span>
<span num="19">    r := http.NewServeMux()</span>
<span num="20">    r.HandleFunc(&#34;/&#34;, handleIndex)</span>
<span num="21">    go func() { log.Fatalln(http.ListenAndServe(&#34;:12345&#34;, r)) }()</span>
<span num="22"></span>
<span num="23">    sh(&#34;httpie -p hb localhost:12345&#34;)</span>
<span num="24">}</span>
<span num="25"></span>
<span num="26">type indexResponse struct {</span>
<span num="27">    Message string `json:&#34;message&#34;` // must be capitalized, more on this later</span>
<span num="28">}</span>
<span num="29"></span>
<span num="30">func handleIndex(w http.ResponseWriter, r *http.Request) {</span>
<span num="31">    w.Header().Set(&#34;Content-Type&#34;, &#34;application/json&#34;)</span>
<span num="32">    j := json.NewEncoder(w)</span>
<span num="33">    j.Encode(indexResponse{Message: &#34;Hello, 世界!&#34;})</span>
<span num="34">}</span>
</pre>
</div>

      
      <span class="pagenumber">10</span>
      </article>
  
  
  
      <article >
      
        <h2>X in Y minutes, Y=Go</h2>
      
      <span class="pagenumber">11</span>
      </article>
  
  
  
      <article >
      
        <h3>Go is statically typed</h3>
        <pre><code>var x int = 5
var y = 5 // type is inferred to be int
fmt.Println(x, y) // 5 5

z := 5 // shorthand &quot;walrus&quot; operator
fmt.Println(z) // 5

z = &quot;hello&quot; // error! z is an int

// a function must have types, like C++
// we can write (x, y int) instead of (x int, y int)
// we can only define functions OUTSIDE of a function!
func add(x, y int) int { return x + y }
add(5, 6) // 11

// addx is like add, but it's a first-class function
// we can define this inside any function
addx := func(x, y int) int { return x + y }
addx(5, 6) // 11</code></pre>

      
      <span class="pagenumber">12</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has functions, structs and methods</h3>
        <p>Like C++ classes, but much simpler!</p>
<pre><code>type Person struct {
    Name string
    Age  int
}

func (p Person) SayHello() {
    fmt.Println(&quot;Hello, my name is&quot;, p.Name)
}

func SayHello(p Person) {
    fmt.Println(&quot;Hello, my name is&quot;, p.Name)
}

func main() {
    p := Person{Name: &quot;John&quot;, Age: 20} // struct initialization
    p.SayHello() // Output: Hello, my name is John
    SayHello(p) // Output: Hello, my name is John
}</code></pre>

      
      <span class="pagenumber">13</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has interfaces</h3>
        <p>Interfaces define what methods we want from a type. It is a basic form of
polymorphism.</p>
<p>We can borrow our <code>Person</code> class earlier:</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import &#34;fmt&#34;

type Person struct {
	Name string
	Age  int
}

// SayHello is a method on Person.
func (p Person) SayHello() {
	fmt.Println(&#34;Hello, my name is&#34;, p.Name)
}

</span></pre><pre><span num="16">// HelloSayer describes anything that can say hello.</span>
<span num="17">// It&#39;s conventional to name interfaces with the -er suffix.</span>
<span num="18">type HelloSayer interface {</span>
<span num="19">    SayHello()</span>
<span num="20">}</span>
<span num="21"></span>
<span num="22">func sayHelloWithEmojis(h HelloSayer) {</span>
<span num="23">    fmt.Println(&#34;👋👋👋&#34;)</span>
<span num="24">    h.SayHello()</span>
<span num="25">    fmt.Println(&#34;👋👋👋&#34;)</span>
<span num="26">}</span>
<span num="27"></span>
<span num="28">func main() {</span>
<span num="29">    p := Person{Name: &#34;John&#34;, Age: 20}</span>
<span num="30">    sayHelloWithEmojis(p)</span>
<span num="31">}</span>
</pre>
</div>

      
      <span class="pagenumber">14</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has interfaces</h3>
        <p>or be a <code>Cat</code>:</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import &#34;fmt&#34;

type Person struct {
	Name string
	Age  int
}

// SayHello is a method on Person.
func (p Person) SayHello() {
	fmt.Println(&#34;Hello, my name is&#34;, p.Name)
}

func sayHelloWithEmojis(h HelloSayer) {
	fmt.Println(&#34;👋👋👋&#34;)
	h.SayHello()
	fmt.Println(&#34;👋👋👋&#34;)
}

</span></pre><pre><span num="21">type Cat struct {</span>
<span num="22">    Name string</span>
<span num="23">}</span>
<span num="24"></span>
<span num="25">func (c Cat) SayHello() {</span>
<span num="26">    fmt.Println(&#34;Meow, meow name is&#34;, c.Name)</span>
<span num="27">}</span>
<span num="28"></span>
<span num="29">type HelloSayer interface {</span>
<span num="30">    SayHello()</span>
<span num="31">}</span>
<span num="32"></span>
<span num="33">func main() {</span>
<span num="34">    c := Cat{Name: &#34;Mittens&#34;}</span>
<span num="35">    sayHelloWithEmojis(c)</span>
<span num="36">}</span>
</pre>
</div>

      
      <span class="pagenumber">15</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has type-assertions</h3>
        
  <div class="code playground" >
<pre style="display: none"><span>package main

import (
	&#34;fmt&#34;
	&#34;strings&#34;
)

type Person struct {
	Name string
	Age  int
}

// SayHello is a method on Person.
func (p Person) SayHello() {
	fmt.Println(&#34;Hello, my name is&#34;, p.Name)
}

type Cat struct {
	Name string
}

func (c Cat) SayHello() {
	fmt.Println(&#34;Meow, meow name is&#34;, c.Name)
}

type HelloSayer interface {
	SayHello()
}

</span></pre><pre><span num="30">func sayHelloWithEmojis(h HelloSayer) {</span>
<span num="31">    emoji := &#34;👋&#34;</span>
<span num="32">    // use a cat emoji if h is a cat</span>
<span num="33">    if _, ok := h.(Cat); ok {</span>
<span num="34">        emoji = &#34;🐾&#34;</span>
<span num="35">    }</span>
<span num="36"></span>
<span num="37">    fmt.Println(strings.Repeat(emoji, 3))</span>
<span num="38">    h.SayHello()</span>
<span num="39">    fmt.Println(strings.Repeat(emoji, 3))</span>
<span num="40">}</span>
<span num="41"></span>
<span num="42">func main() {</span>
<span num="43">    sayHelloWithEmojis(Cat{Name: &#34;Mittens&#34;})</span>
<span num="44">    sayHelloWithEmojis(Person{Name: &#34;John&#34;, Age: 20})</span>
<span num="45">}</span>
</pre>
</div>

      
      <span class="pagenumber">16</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has defer</h3>
        <p><code>defer</code> marks a function to be called when the current function exits. It's
called similarly to a stack.</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import (
	&#34;fmt&#34;
	&#34;sync&#34;
)

</span></pre><pre><span num="8">func main() {</span>
<span num="9">    var mu sync.Mutex</span>
<span num="10"></span>
<span num="11">    mu.Lock()</span>
<span num="12">    defer mu.Unlock()</span>
<span num="13"></span>
<span num="14">    fmt.Print(&#34;Hello&#34;)</span>
<span num="15">    defer fmt.Println(&#34;world&#34;)</span>
<span num="16">    fmt.Print(&#34;, &#34;)</span>
<span num="17"></span>
<span num="18">    // Actual order of execution:</span>
<span num="19">    // 0. mu.Lock()</span>
<span num="20">    // 1. fmt.Print(&#34;Hello&#34;)</span>
<span num="21">    // 2. fmt.Print(&#34;, &#34;)</span>
<span num="22">    // 3. fmt.Println(&#34;world&#34;)</span>
<span num="23">    // 4. mu.Unlock()</span>
<span num="24">}</span>
</pre>
</div>

      
      <span class="pagenumber">17</span>
      </article>
  
  
  
      <article >
      
        <h3>Go has goroutines</h3>
        <p>Goroutines are like threads, but they're more lightweight. They're also a lot
easier in Go.</p>

  <div class="code playground" >
<pre style="display: none"><span>package main

import (
	&#34;fmt&#34;
	&#34;sync&#34;
	&#34;time&#34;
)

</span></pre><pre><span num="9">func main() {</span>
<span num="10">    start := time.Now()</span>
<span num="11">    defer func() { fmt.Println(&#34;Took&#34;, time.Since(start)) }()</span>
<span num="12"></span>
<span num="13">    var wg sync.WaitGroup // counter that blocks until it reaches zero</span>
<span num="14"></span>
<span num="15">    for i := 0; i &lt; 5; i&#43;&#43; {</span>
<span num="16">        wg.Add(1)        // count our goroutine</span>
<span num="17">        go func(i int) { // start the goroutine (&#34;go&#34;!)</span>
<span num="18">            defer wg.Done() // uncount when we&#39;re done</span>
<span num="19"></span>
<span num="20">            time.Sleep(1 * time.Second)</span>
<span num="21">            fmt.Printf(&#34;Hello from goroutine %d!\n&#34;, i)</span>
<span num="22">        }(i)</span>
<span num="23">    }</span>
<span num="24"></span>
<span num="25">    wg.Wait()</span>
<span num="26">}</span>
</pre>
</div>

      
      <span class="pagenumber">18</span>
      </article>
  
  
  
      <article >
      
        <h3>Go CLI reference</h3>
        <pre><code># initialize a new Go project
go mod init github.com/$YOUR_USERNAME/$YOUR_PROJECT_NAME

# run a Go program
go run .

# build a Go program
go build

# test all packages
go test ./...</code></pre>

      
      <span class="pagenumber">19</span>
      </article>
  
  
  
      <article >
      
        <h2>Let&#39;s set up Go!</h2>
      
      <span class="pagenumber">20</span>
      </article>
  
  
  
      <article >
      
        <h3>Installing Go</h3>
        <pre><code>switch operatingSystem {
case Ubuntu22_04, Ubuntu22_10: // or later or WSL2
    // You have Go 1.18 or later! Just install it using apt.
    sh(`sudo apt install golang-go`)
case UbuntuOlder:
    // You'll need to use a PPA to get a newer version of Go.
    sh(`sudo add-apt-repository ppa:longsleep/golang-backports 
        sudo apt update
        sudo apt install golang-go`)
case MacOS_Homebrew:
    // You can use Homebrew to install Go if you have it.
    sh(`brew install go`)
case MacOS, Windows:
    // You can download Go from the official website. Install it like a regular
    // package. See go.dev/doc/install for more information.
    open(&quot;https://go.dev/dl/&quot;)
default:
    // Just ask me! But also check the website.
    open(&quot;https://go.dev/dl/&quot;)
}</code></pre>

      
      <span class="pagenumber">21</span>
      </article>
  
  
  
      <article >
      
        <h3>Visual Studio Code</h3>
        <p>Just install this extension! If prompted to install the language server, do so.</p>
<div align="center" style="height: 85%">
    <img src="images/vscode.png" width="80%">
</div>
      
      <span class="pagenumber">22</span>
      </article>
  
  
  
      <article >
      
        <h3>Vim</h3>
        <p>Install <code>gopls</code>:</p>
<pre><code class="language-sh">echo 'PATH=&quot;$PATH:$(go env GOPATH)/bin&quot;' &gt;&gt; ~/.bashrc # or any shellrc
go install golang.org/x/tools/gopls@latest
</code></pre>
<p>Then add <code>gopls</code> to any of your LSP plugins (e.g. CoC, ALE, Neovim LSP, etc.)</p>
<p>If you have any issues, just ask me! I use Vim, BTW.</p>

      
      <span class="pagenumber">23</span>
      </article>
  
  
  
      <article >
      
        <h3>Check that your environment works</h3>
        <p>Simply make sure that your autocompletion works:</p>
<div align="center" style="height: 85%">
    <img src="images/completion.png" width="80%">
</div>
      
      <span class="pagenumber">24</span>
      </article>
  
  
  
      <article >
      
        <h2>Let&#39;s make a REST API!</h2>
      
      <span class="pagenumber">25</span>
      </article>
  
  
  
      <article >
      
        <h3>What we&#39;ll do</h3>
        <p>We'll pretend we're Jeff Bezos and make a REST API for our online bookstore.</p>
<p>Our bookstore will have:</p>
<ul>
<li>A REST API for getting, creating, updating and deleting books</li>
<li>A SQLite database to store our books</li>
<li>Unit tests for our API</li>
</ul>

      
      <span class="pagenumber">26</span>
      </article>
  
  
  
      <article >
      
        <h3>Cloning</h3>
        <p>Open the demo <code>bookstore</code> project:</p>
<pre><code>git clone https://github.com/diamondburned/acm-go-present
cd acm-go-present/cmd/bookstore</code></pre>

      
      <span class="pagenumber">27</span>
      </article>
  
  
  
      <article >
      
        <h3>Project Structure</h3>
        <pre><code>.
├── bookstore/      -- folder encompassing the bookstore
│   ├── api/          -- REST API handlers
│   ├── bookstore.go  -- data types and models
│   └── db/           -- SQLite store implementation
├── go.mod
├── go.sum
├── main.go         -- main server program
└── README.md</code></pre>

      
      <span class="pagenumber">28</span>
      </article>
  
  
  
      <article >
      
        <h2>Terminal Time!</h2>
      
      <span class="pagenumber">29</span>
      </article>
  
  

      <article>
        <h3>Thank you</h3>
        
          <div class="presenter">
            
  
  <p>
    Diamond
  </p>
  

  
  <p>
    ACM at CSUF
  </p>
  

          </div>
        
          <div class="presenter">
            
  
  <p>
    
  </p>
  

          </div>
        
      </article>

    </section>

    <div id="help">
      Use the left and right arrow keys or click the left and right
      edges of the page to navigate between slides.<br>
      (Press 'H' or navigate to hide this message.)
    </div>

    
    <script src='/play.js'></script>
    

	<script>
		hljs.highlightAll()
		document.querySelectorAll("div.code pre").forEach(pre => hljs.highlightBlock(pre))
	</script>
  </body>
  <link rel='stylesheet' href='/static/DarkReader.css'>
  <link rel='stylesheet' href='/static/hljs.css'>
</html>
